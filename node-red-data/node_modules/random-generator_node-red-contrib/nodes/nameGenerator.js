module.exports = function (RED) {
  const {
    uniqueNamesGenerator,
    adjectives,
    colors,
    animals,
  } = require("unique-names-generator");
  function nameGenerator(config) {
    RED.nodes.createNode(this, config);
    var node = this;
    node.on("input", function (msg) {
      nameLength = config.nameLength == "" ? 2 : parseInt(config.nameLength);
      msg.payload = uniqueNamesGenerator({
        dictionaries: [adjectives, colors, animals],
        length: nameLength,
      });
      node.send(msg);
    });
  }
  RED.nodes.registerType("Name", nameGenerator);
};
